



{% extends 'base.html' %}
{% block title %}Update Product{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8 col-lg-7">

    <div class="card shadow-sm">
      <div class="card-body p-4">

        <h4 class="mb-3">Edit Product</h4>

        

        <form method="POST"
              action="/admin/update-item/{{ product.product_id }}"
              enctype="multipart/form-data">

          <!-- Product Name -->
          <div class="mb-3">
            <label class="form-label">Product Name</label>
            <input
              name="name"
              class="form-control"
              value="{{ product.name }}"
              required>
          </div>

          <!-- Description -->
          <div class="mb-3">
            <label class="form-label">Description</label>
            <textarea
              name="description"
              rows="5"
              class="form-control"
              required>{{ product.description }}</textarea>
          </div>

          <!-- Category -->
          <div class="mb-3">
            <label class="form-label">Category</label>
            <input
              name="category"
              class="form-control"
              value="{{ product.category }}"
              required>
          </div>

          <!-- Price -->
          <div class="mb-3">
            <label class="form-label">Price</label>
            <input
              type="number"
              step="0.01"
              name="price"
              class="form-control"
              value="{{ product.price }}"
              required>
          </div>

          <!-- Old Image -->
          <div class="mb-3">
            <label class="form-label">Current Image</label><br>
            <img
              src="/static/uploads/product_images/{{ product.image }}"
              class="img-thumbnail"
              width="140">
          </div>

          <!-- New Image -->
          <div class="mb-4">
            <label class="form-label">Change Image (Optional)</label>
            <input
              type="file"
              name="image"
              class="form-control"
              accept="image/*">
          </div>

          <!-- Buttons -->
          <button class="btn btn-warning" type="submit">
            Update
          </button>

          <a class="btn btn-secondary ms-2" href="/admin/item-list">
            Cancel
          </a>

          <a class="btn btn-info ms-2" href="{{ url_for('admin_dashboard') }}">
            Dashboard
          </a>

        </form>

      </div>
    </div>

  </div>
</div>
{% endblock %}

