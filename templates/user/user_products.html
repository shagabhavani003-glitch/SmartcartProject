



{% extends 'base.html' %}

{% block title %}Products{% endblock %}

{% block content %}

<style>
.product-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.product-card {
    width: 200px;
    border: 1px solid #ddd;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0px 2px 6px rgba(0,0,0,0.1);
    text-align: center;
    background-color: #fff;
    transition: 0.3s;
}

.product-card:hover {
    box-shadow: 0px 4px 12px rgba(0,0,0,0.2);
    transform: translateY(-3px);
}

.product-card img {
    width: 140px;
    height: 100px;
    object-fit: contain;
    margin-bottom: 10px;
}

.product-card h3 {
    margin: 5px 0;
    font-size: 18px;
}

.product-card p {
    margin: 2px 0;
    font-size: 14px;
    color: #555;
}

.product-card a {
    display: inline-block;
    margin-top: 8px;
    background-color: #007bff;
    padding: 8px 12px;
    border-radius: 5px;
    color: white;
    text-decoration: none;
    font-size: 14px;
}

.product-card a:hover {
    background-color: #0056b3;
}
</style>

<h2>All Products</h2>

<!-- Search Bar -->
<form method="GET" action="/user/products">
    <input type="text" name="search" placeholder="Search product..."
           value="{{ request.args.get('search', '') }}">
    <button type="submit">Search</button>
</form>

<br>

<!-- Category Filter -->
<form method="GET" action="/user/products">
    <select name="category">
        <option value="">All Categories</option>

        {% for cat in categories %}
        <option value="{{ cat.category }}"
            {% if request.args.get('category') == cat.category %} selected {% endif %}>
            {{ cat.category }}
        </option>
        {% endfor %}
    </select>

    <button type="submit">Filter</button>
</form>




<hr>

<!-- Product Cards -->
<div class="product-container">

{% for product in products %}
<div class="product-card">

    <img src="/static/uploads/product_images/{{ product.image }}">

    <h3>{{ product.name }}</h3>
    <p>{{ product.category }}</p>
    <p><strong>â‚¹{{ product.price }}</strong></p>

    <div class="button-group">
        <a href="/user/product/{{ product.product_id }}" 
           class="btn btn-outline-primary btn-sm">
           View Details
        </a>

        <a href="/user/add-to-cart/{{ product.product_id }}"
           class="btn btn-success btn-sm">
           Add to Cart
        </a>
    </div>

</div>   <!-- ðŸ”¥ IMPORTANT closing here -->
{% endfor %}

</div>
{% endblock %}